<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resume - Pawel Tulin</title>
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="access.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
</head>
<body>
    <header class="header">
        <div class="header-content">
            <div class="logo"><a href="../index.html">Pawel Tulin</a></div>
        </div>
    </header>

    <main class="resume-container">
        <div class="resume-header">
            <h1>Pawel Tulin</h1>
            <p>AI-Driven Product Designer, UX Leader & Research Strategist</p>
        </div>

        <div class="resume-content">
            <div class="resume-section">
                <h2>Experience</h2>
                <p>Your resume content...</p>
            </div>
            
            <div class="resume-section">
                <h2>Education</h2>
                <p>Your education content...</p>
            </div>
        </div>

        <a href="../assets/pdf/resume.pdf" class="download-pdf-btn" download>
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M8 11L3 6H6V1H10V6H13L8 11Z" fill="currentColor"/>
                <path d="M14 13H2V15H14V13Z" fill="currentColor"/>
            </svg>
            Download PDF
        </a>
    </main>

    <script>
        // Check if access was granted
        if (sessionStorage.getItem('resumeAccess') !== 'granted') {
            window.location.href = 'index.html';
        }

        // Log access (silently fail if CORS blocks it - logging is not critical)
        const passwordID = sessionStorage.getItem('passwordID');
        if (passwordID) {
            // Use iframe approach to avoid CORS errors in console
            const iframe = document.createElement('iframe');
            iframe.style.display = 'none';
            iframe.name = 'logFrame';
            document.body.appendChild(iframe);

            const form = document.createElement('form');
            form.method = 'POST';
            form.action = 'https://script.google.com/macros/s/AKfycbyNQWEWnEUvBhVAnBImfHJlqeYKxMoJzwzqC3-UZJN7qL4kWoVnOM89nJzu3SAjMT72/exec';
            form.target = 'logFrame';
            
            const actionInput = document.createElement('input');
            actionInput.type = 'hidden';
            actionInput.name = 'action';
            actionInput.value = 'logAccess';
            form.appendChild(actionInput);
            
            const passwordField = document.createElement('input');
            passwordField.type = 'hidden';
            passwordField.name = 'passwordID';
            passwordField.value = passwordID;
            form.appendChild(passwordField);
            
            const emailField = document.createElement('input');
            emailField.type = 'hidden';
            emailField.name = 'email';
            emailField.value = '';
            form.appendChild(emailField);
            
            document.body.appendChild(form);
            form.submit();
            
            // Cleanup after a delay
            setTimeout(() => {
                if (form.parentNode) document.body.removeChild(form);
                if (iframe.parentNode) document.body.removeChild(iframe);
            }, 2000);
        }
    </script>
</body>
</html>

